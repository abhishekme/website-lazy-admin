{"version":3,"file":"pick.js","sourceRoot":"","sources":["../../../../temp/inline/pick/pick.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAC,MAAM,eAAe,CAAC;AACtE,OAAO,EAAE,eAAe,EAAE,MAAM,sBAAsB,CAAC;AACvD,OAAO,EAAC,SAAS,EAAC,MAAM,cAAc,CAAC;;;sBAQ5B,IAAI,eAAe,CAAC,IAAI,CAAC;0BACrB,KAAK;6BASQ,IAAI,YAAY,EAAE;kCACb,IAAI,YAAY,EAAE;;0BAR3B,gCAAW;uBAAC,QAAgB;YAChD,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,IAAI,CAAC,kBAAkB,EAAE,CAAC;;;;;0BAQE,kCAAa;uBAAC,UAAe;YACzD,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC,CAAC;;;;;IAG1C,oCAAkB,GAAlB;QACE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KACjC;IAED,8BAAY,GAAZ,UAAa,KAAU;;QACrB,IAAI,IAAS,CAAC;QACd,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;;gBAEhC,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBAC3C,IAAI,GAAG,KAAK,GAAG,CAAC,CAAC;oBACT,CAAC,CAAK,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,QAAK,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,EACtE,CAAC,CAAK,IAAI,CAAC,QAAQ,SAAE,KAAK,EAAC,CAAC;aACrC;iBAAM;gBACL,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,QAAQ,YAAG,GAAC,KAAK,IAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAE,CAAC;aAC3E;SACF;aAAM;YACL,IAAI,GAAG,KAAK,CAAC;SACd;QAED,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC/B;IAED,+BAAa,GAAb,UAAc,KAAU;QAAxB,iBAcC;QAbC,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,QAAQ;YAAE,OAAO;QAE9C,IAAI,IAAa,CAAC;QAElB,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SAClG;aAAM;YACL,IAAI,GAAG,IAAI,CAAC,QAAQ,KAAK,KAAK,CAAC;SAChC;QAED,IAAI,IAAI,EAAE;YACR,UAAU,CAAC,cAAM,OAAA,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,EAAnC,CAAmC,CAAC,CAAC;SACvD;KACF;;gBA5DF,SAAS,SAAC;oBACT,QAAQ,EAAE,WAAW;iBACtB;;;;gCAOE,KAAK,SAAC,SAAS;uCAKf,KAAK;kCAEL,MAAM;uCACN,MAAM;kCAEN,KAAK,SAAC,iBAAiB;;kBAvB1B;;SAOa,OAAO","sourcesContent":["import { Directive, Input, Output, EventEmitter} from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport {toBoolean} from '../util/util';\n\n@Directive({\n  selector: '[nglPick]',\n})\nexport class NglPick {\n\n  selected: any;\n  values = new BehaviorSubject(null);\n  isMultiple = false;\n\n  @Input('nglPick') set setSelected(selected: string) {\n    this.selected = selected;\n    this.ngAfterContentInit();\n  }\n\n  @Input() nglPickActiveClass: string;\n\n  @Output() nglPickChange = new EventEmitter();\n  @Output() nglOptionDestroyed = new EventEmitter();\n\n  @Input('nglPickMultiple') set setIsMultiple(isMultiple: any) {\n    this.isMultiple = toBoolean(isMultiple);\n  }\n\n  ngAfterContentInit() {\n    this.values.next(this.selected);\n  }\n\n  selectOption(value: any) {\n    let next: any;\n    if (this.isMultiple) {\n      if (Array.isArray(this.selected)) {\n        // Remove if already there or add to selection\n        const index = this.selected.indexOf(value);\n        next = index > -1\n                ? [...this.selected.slice(0, index), ...this.selected.slice(index + 1)]\n                : [...this.selected, value];\n      } else {\n        next = Object.assign({}, this.selected, {[value]: !this.selected[value]});\n      }\n    } else {\n      next = value;\n    }\n\n    this.nglPickChange.emit(next);\n  }\n\n  optionRemoved(value: any) {\n    if (this.isMultiple && !this.selected) return;\n\n    let emit: boolean;\n\n    if (this.isMultiple) {\n      emit = Array.isArray(this.selected) ? this.selected.indexOf(value) > -1 : !!this.selected[value];\n    } else {\n      emit = this.selected === value;\n    }\n\n    if (emit) {\n      setTimeout(() => this.nglOptionDestroyed.emit(value));\n    }\n  }\n}\n"]}